// Agile Velocity White Papers Data

export const whitePapers = [
  {
    id: 'are-you-ready-for-agile-transformation',
    slug: 'are-you-ready-for-agile-transformation',
    title: 'Are You Ready For An Agile Transformation?',
    description: 'Agile transformation requires substantial investment and carries real risk. Before committing resources, use these 7 assessment questions to evaluate whether your organization is truly ready to transform.',
    author: 'Agile Velocity',
    authorRole: 'Transformation Experts',
    pdfUrl: '/pdfs/white-papers/are-you-ready-for-agile-transformation.pdf',
    thumbnail: '/images/white-papers/are-you-ready-for-agile-transformation.jpg',
    publishDate: '2020-06-15',
    category: 'Transformation',
    topics: ['Agile Readiness', 'Assessment', 'Organizational Change', 'Decision Making'],
    pageCount: 12,
    readTime: '10 min read',
    featured: true,
    overview: `Every agile transformation requires a significant investment of time, money, and organizational energy. The cost of getting it wrong is high. Failed transformations waste resources and erode trust in future change initiatives.\n\nThis white paper provides 7 diagnostic questions that help leaders honestly evaluate whether their organization has the preconditions for a successful agile transformation. Each question targets a specific readiness factor: leadership commitment, cultural openness, strategic clarity, and operational capacity for change.`,
    keyTakeaways: [
      '7 specific questions to assess your organization\'s transformation readiness',
      'How to evaluate leadership commitment beyond surface-level support',
      'Warning signs that indicate your organization should wait before transforming',
      'The relationship between organizational culture and transformation success',
      'How to identify the right starting point for your transformation',
      'Criteria for choosing between incremental improvement and full transformation'
    ],
    sections: [
      {
        title: 'Why Readiness Matters',
        content: `70% of agile transformations fail to deliver the business outcomes leadership expects. The most common reason isn\'t bad methodology or poor coaching. It\'s that the organization wasn\'t ready to change in the first place.\n\nReadiness assessment isn\'t about checking a box. It\'s about honestly evaluating whether your organization has the leadership commitment, cultural openness, and strategic clarity needed to sustain a multi-year transformation effort.`
      },
      {
        title: 'The 7 Readiness Questions',
        content: `Each question in this assessment targets a critical success factor for agile transformation. They cover leadership alignment, organizational culture, technical infrastructure, team structure, and the willingness to fundamentally change how work gets done.\n\nThese aren\'t yes-or-no questions. Each one requires honest reflection about where your organization truly stands, not where you wish it stood.`
      },
      {
        title: 'What Readiness Looks Like',
        content: `Organizations that are ready for transformation share common characteristics: leadership that actively sponsors and participates in the change, teams that are open to learning new ways of working, and a business environment that creates urgency for improvement.\n\nThe absence of any one of these factors doesn\'t necessarily mean you shouldn\'t transform, but it does mean you\'ll need to address that gap before or during the early stages of your journey.`
      }
    ],
    relatedWebinarSlug: null,
    ctaText: 'Take the next step. Our coaches can help you assess your organization\'s readiness and build a transformation roadmap tailored to your specific situation.'
  },
  {
    id: '8-common-pitfalls-agile-transformation',
    slug: '8-common-pitfalls-agile-transformation',
    title: '8 Common Pitfalls of an Agile Transformation',
    description: 'Organizations that attempt agile transformations without expert guidance often encounter the same 8 failure patterns. Learn what they are and how to avoid them before they derail your initiative.',
    author: 'Agile Velocity',
    authorRole: 'Transformation Experts',
    pdfUrl: '/pdfs/white-papers/8-common-pitfalls-agile-transformation.pdf',
    thumbnail: '/images/white-papers/8-common-pitfalls-agile-transformation.jpg',
    publishDate: '2020-05-20',
    category: 'Transformation',
    topics: ['Transformation Pitfalls', 'Change Management', 'Resistance', 'Common Mistakes'],
    pageCount: 14,
    readTime: '12 min read',
    featured: true,
    overview: `After guiding 100+ enterprise agile transformations, we\'ve identified 8 recurring failure patterns that derail even well-intentioned initiatives. These pitfalls lead to team resistance, lost productivity, and slowed momentum, and most are avoidable with the right awareness.\n\nThis white paper names each pitfall, explains why it happens, and provides specific strategies to prevent or recover from each one. Whether you\'re planning your first transformation or recovering from a stalled one, these lessons will help you avoid significant time and frustration.`,
    keyTakeaways: [
      'The 8 most common patterns that cause agile transformations to fail',
      'Why team resistance often signals a leadership problem, not a team problem',
      'How "doing agile" without "being agile" creates the illusion of progress',
      'The hidden cost of skipping foundational practices to move faster',
      'Why transformations stall after initial enthusiasm fades',
      'Specific mitigation strategies for each of the 8 pitfalls',
      'How to diagnose which pitfalls are affecting your current transformation'
    ],
    sections: [
      {
        title: 'Why Transformations Fail',
        content: `Most failed transformations don\'t collapse dramatically. They slowly lose momentum as teams revert to old habits, leadership attention shifts to other priorities, and the gap between "doing agile" and "being agile" grows wider.\n\nThe 8 pitfalls described in this paper are the specific mechanisms through which this erosion happens. Recognizing them early is the difference between course-correcting and starting over.`
      },
      {
        title: 'The Cost of Getting It Wrong',
        content: `A faulty agile adoption doesn\'t just waste the investment in the transformation itself. It creates more resistance from teams who now associate "agile" with failed change. It produces lost productivity during the transition period with no corresponding improvement afterward. And it slows momentum for any future improvement initiatives.\n\nThe organizations that avoid these pitfalls share one thing in common: they invested in understanding the failure patterns before they started.`
      },
      {
        title: 'Prevention Over Recovery',
        content: `Each pitfall in this paper includes both prevention strategies (what to do before the problem occurs) and recovery strategies (what to do if you\'re already experiencing it). Prevention is always less expensive and less disruptive than recovery, but both paths are available.\n\nThe key insight is that most pitfalls are systemic, not individual. They require changes to how the organization operates, not just how teams work.`
      }
    ],
    relatedWebinarSlug: null,
    ctaText: 'Our coaches have helped 100+ organizations navigate these pitfalls. Let us help you avoid them entirely.'
  },
  {
    id: 'beginners-guide-understanding-safe',
    slug: 'beginners-guide-understanding-safe',
    title: 'A Beginner\'s Guide to Understanding Scaled Agile Framework\u00AE',
    description: 'SAFe has become the most widely adopted framework for scaling agile across large organizations. This guide breaks down SAFe\'s core values, 10 Lean-Agile principles, and how it translates business strategy into execution.',
    author: 'Agile Velocity',
    authorRole: 'SAFe Practice Leads',
    pdfUrl: '/pdfs/white-papers/beginners-guide-understanding-safe.pdf',
    thumbnail: '/images/white-papers/beginners-guide-understanding-safe.jpg',
    publishDate: '2020-04-10',
    category: 'SAFe',
    topics: ['SAFe', 'Scaling Agile', 'Lean-Agile Principles', 'Enterprise Agility'],
    pageCount: 16,
    readTime: '15 min read',
    featured: true,
    overview: `The Scaled Agile Framework (SAFe) is the most commonly adopted framework for scaling agile practices beyond individual teams to the enterprise level. But its breadth can be overwhelming for newcomers: multiple configurations, dozens of roles, and a rich set of practices drawn from Lean, Agile, and DevOps.\n\nThis beginner\'s guide cuts through the complexity to explain what SAFe is, why organizations adopt it, and how it connects business strategy to team-level execution through its core values and 10 foundational Lean-Agile principles.`,
    keyTakeaways: [
      'What SAFe is and how it differs from team-level agile frameworks',
      'SAFe\'s 4 core values: Alignment, Built-in Quality, Transparency, Program Execution',
      'The 10 Lean-Agile principles that form SAFe\'s foundation',
      'How SAFe connects business strategy to team-level execution',
      'When SAFe is the right choice vs. other scaling approaches',
      'The deep ties between SAFe and Lean Economics'
    ],
    sections: [
      {
        title: 'Why Organizations Scale Agile',
        content: `Individual team agility is valuable, but most enterprise challenges span multiple teams, departments, and value streams. Scaling agile addresses the coordination, alignment, and governance challenges that emerge when dozens or hundreds of teams need to deliver value together.\n\nSAFe provides a structured approach to this scaling challenge, with defined roles, events, and artifacts at the team, program, large solution, and portfolio levels.`
      },
      {
        title: 'SAFe Core Values',
        content: `SAFe is built on four core values that guide decision-making at every level of the organization: Alignment ensures everyone is working toward the same strategic objectives. Built-in Quality means quality isn\'t an afterthought but a fundamental part of how work is done. Transparency creates the visibility needed for trust and effective decision-making. Program Execution focuses on reliably delivering value on a predictable cadence.`
      },
      {
        title: '10 Lean-Agile Principles',
        content: `The 10 Lean-Agile principles form the philosophical foundation of SAFe. They draw from Lean manufacturing, agile software development, and systems thinking to create a coherent approach to enterprise agility.\n\nThese principles include taking an economic view, applying systems thinking, assuming variability and preserving options, building incrementally with fast feedback cycles, and organizing around value. Understanding these principles is essential to implementing SAFe effectively rather than just mechanically.`
      }
    ],
    relatedWebinarSlug: null,
    ctaText: 'Our SAFe Practice Leads can help you evaluate whether SAFe is the right scaling approach for your organization and guide your implementation.'
  },
  {
    id: 'agile-for-executives',
    slug: 'agile-for-executives',
    title: 'Agile For Executives',
    description: 'Over half of all agile transformations fail, and leadership is often to blame. This white paper addresses the questions executives ask most: What problems does agile solve? What are the barriers? What should I know before investing?',
    author: 'David Hawks',
    authorRole: 'Founder & CEO, Agile Velocity',
    pdfUrl: '/pdfs/white-papers/agile-for-executives.pdf',
    thumbnail: '/images/white-papers/agile-for-executives.jpg',
    publishDate: '2020-03-15',
    category: 'Leadership',
    topics: ['Executive Leadership', 'Business Case for Agile', 'Investment Decision', 'Organizational Strategy'],
    pageCount: 10,
    readTime: '8 min read',
    featured: false,
    overview: `Over half of all agile transformations fail to deliver the results leadership expects. In many cases, the root cause traces back to executive leadership, not because leaders don\'t care, but because they don\'t have the right information to make informed decisions about agile investments.\n\nThis white paper is written specifically for executives evaluating agile transformation. It answers three critical questions: What organizational problems can agile actually solve? What are the most common barriers to successful transformation? And what do you need to know before committing your organization\'s resources?`,
    keyTakeaways: [
      'The specific organizational problems agile is designed to solve (and which it won\'t)',
      'Why over 50% of agile transformations fail to meet expectations',
      'The most common barriers executives create without realizing it',
      'What "leadership commitment" actually requires beyond verbal support',
      'How to evaluate the ROI of an agile transformation investment',
      'Questions to ask before selecting a transformation partner'
    ],
    sections: [
      {
        title: 'What Agile Actually Solves',
        content: `Agile isn\'t a universal solution. It\'s specifically designed to address problems caused by complexity, uncertainty, and the need for rapid feedback. Organizations with long delivery cycles, poor predictability, low customer satisfaction, or difficulty adapting to market changes are the strongest candidates.\n\nUnderstanding what agile does and doesn\'t solve prevents the misaligned expectations that doom many transformations from the start.`
      },
      {
        title: 'Common Executive Barriers',
        content: `The most common transformation barrier isn\'t team resistance. It\'s leadership behavior. Executives who verbally support agile but continue to demand fixed scope, fixed date commitments create an impossible environment for agile teams.\n\nOther common barriers include treating agile as an IT-only initiative, expecting immediate results from a multi-year journey, and delegating transformation ownership to middle management without providing the authority or resources needed to succeed.`
      },
      {
        title: 'Before You Invest',
        content: `Before committing to an agile transformation, executives should evaluate three factors: organizational readiness (is there genuine appetite for change?), strategic alignment (does agile address your actual business challenges?), and commitment capacity (can you sustain focus on this initiative for 12-24 months?).\n\nThe organizations that get the highest ROI from agile transformation are the ones that enter with realistic expectations and genuine commitment from the top.`
      }
    ],
    relatedWebinarSlug: 'agile-leadership-managers-role',
    ctaText: 'Our leadership coaching starts at the executive level. Let us help you build the foundation for a transformation that delivers measurable business outcomes.'
  },
  {
    id: 'agile-implementation-options',
    slug: 'agile-implementation-options',
    title: 'Agile Implementation Options',
    description: 'There are many ways organizations implement agile. This infographic compares 9 different implementation approaches, weighing the pros and cons based on transformation size, investment, scalability, skill level, and leadership commitment.',
    author: 'Agile Velocity',
    authorRole: 'Transformation Experts',
    pdfUrl: '/pdfs/white-papers/agile-implementation-options.pdf',
    thumbnail: '/images/white-papers/agile-implementation-options.jpg',
    publishDate: '2020-02-20',
    category: 'Implementation',
    topics: ['Implementation Approaches', 'Framework Comparison', 'Decision Matrix', 'Strategy'],
    pageCount: 8,
    readTime: '6 min read',
    featured: false,
    overview: `Deciding how to implement agile is one of the most consequential decisions an organization makes during its transformation journey. There\'s no one-size-fits-all approach. The right implementation strategy depends on your organization\'s size, budget, existing skill level, and how much leadership is willing to commit.\n\nThis visual guide compares 9 distinct implementation approaches, from hiring an internal expert to partnering with experienced consultants. Each approach is evaluated across 5 criteria: transformation size, investment required, scalability, necessary skill level, and leadership commitment.`,
    keyTakeaways: [
      "9 distinct approaches to implementing agile, from DIY to full partnership",
      'How to evaluate each approach against 5 critical decision criteria',
      'The pros and cons of hiring internal experts vs. engaging external coaches',
      'Why the cheapest implementation option often costs the most long-term',
      'Which approaches scale effectively and which hit a ceiling',
      'How to match your implementation approach to your organizational context'
    ],
    sections: [
      {
        title: 'The Implementation Decision',
        content: `Choosing an implementation approach is as important as choosing to go agile in the first place. The wrong approach can leave teams frustrated, leadership disillusioned, and the organization worse off than before it started.\n\nThe 9 approaches in this guide represent the full spectrum of options we\'ve seen across 100+ transformations. Each has legitimate use cases. The key is matching the approach to your specific context.`
      },
      {
        title: 'Evaluation Criteria',
        content: `Each implementation approach is evaluated against 5 criteria: the size of transformation it can support (team, department, or enterprise), the investment it requires (both financial and organizational), how well it scales as the transformation grows, the skill level needed to execute it successfully, and the level of leadership commitment required.\n\nNo approach scores perfectly across all five dimensions. The right choice depends on which criteria matter most for your situation.`
      }
    ],
    relatedWebinarSlug: null,
    ctaText: 'Not sure which implementation approach fits your organization? Our coaches can help you evaluate your options and build a plan that matches your context.'
  },
  {
    id: 'how-to-get-leadership-on-board',
    slug: 'how-to-get-leadership-on-board',
    title: 'How to Get Leadership On Board with an Agile Transformation',
    description: 'Convincing leadership that agile is the right investment requires a structured approach. This guide walks through a 7-step methodology covering stakeholder analysis, ROI research, solution positioning, and presentation strategy.',
    author: 'Agile Velocity',
    authorRole: 'Transformation Experts',
    pdfUrl: '/pdfs/white-papers/how-to-get-leadership-on-board.pdf',
    thumbnail: '/images/white-papers/how-to-get-leadership-on-board.jpg',
    publishDate: '2020-07-10',
    category: 'Leadership',
    topics: ['Stakeholder Buy-In', 'Leadership Alignment', 'Change Sponsorship', 'Communication'],
    pageCount: 18,
    readTime: '15 min read',
    featured: false,
    overview: `Getting leadership support for an agile transformation is one of the biggest challenges practitioners face. You understand the value of agile, but translating that understanding into a compelling business case for executives requires a fundamentally different approach than explaining agile to peers.\n\nThis guide provides a structured 7-step methodology for building executive buy-in. It covers stakeholder analysis (understanding what your leaders actually care about), current state evaluation, solution positioning through a leadership lens, implementation options, ROI research, building recommendations, and presenting your case effectively.`,
    keyTakeaways: [
      'A 7-step methodology for building executive buy-in for agile transformation',
      'How to identify what your specific decision-makers prioritize',
      'Techniques for evaluating and presenting organizational maturity honestly',
      'How to frame agile solutions through a leadership perspective (not a practitioner perspective)',
      'Approaches to conducting and presenting ROI analysis',
      'Common executive objections and how to address them with data',
      'Presentation strategies that resonate with senior leadership'
    ],
    sections: [
      {
        title: 'Why Leadership Buy-In Fails',
        content: `Most failed pitches for agile transformation make the same mistake: they explain agile methodology instead of addressing business problems. Executives don\'t need to understand Scrum ceremonies. They need to understand how agile will improve delivery speed, reduce risk, and increase customer satisfaction.\n\nThe 7-step methodology in this guide reframes the conversation from "here\'s what agile is" to "here\'s how agile solves the problems keeping you up at night."`
      },
      {
        title: 'The 7-Step Methodology',
        content: `Step 1: Identify decision-maker priorities through stakeholder analysis. Step 2: Evaluate your organization\'s current state honestly. Step 3: Position agile as a solution to leadership\'s specific concerns. Step 4: Present implementation options with trade-offs. Step 5: Research and quantify ROI with industry data and internal metrics. Step 6: Build clear, actionable recommendations. Step 7: Present your case using leadership communication patterns.\n\nEach step builds on the previous one, creating a comprehensive case that addresses both the emotional and rational dimensions of executive decision-making.`
      },
      {
        title: 'Making It Stick',
        content: `Getting the initial "yes" is only the beginning. Sustaining leadership commitment through the inevitable challenges of transformation requires ongoing communication, visible quick wins, and transparent reporting on progress and obstacles.\n\nThis guide includes strategies for maintaining executive engagement throughout the transformation journey, not just at the approval stage.`
      }
    ],
    relatedWebinarSlug: null,
    ctaText: 'Need help building the business case for agile transformation? Our team can provide data, case studies, and frameworks to support your leadership conversations.'
  },
  {
    id: 'build-high-performing-teams-trust-alignment',
    slug: 'build-high-performing-teams-trust-alignment',
    title: 'How to Build High Performing Teams with Trust & Alignment',
    description: 'High-performing teams are built on two foundations: trust and alignment. This guide provides 5 specific practices for creating alignment and 7 practices for building trust, with team exercises you can use immediately.',
    author: 'Agile Velocity',
    authorRole: 'Team Coaching Experts',
    pdfUrl: '/pdfs/white-papers/build-high-performing-teams-trust-alignment.pdf',
    thumbnail: '/images/white-papers/build-high-performing-teams-trust-alignment.jpg',
    publishDate: '2020-08-15',
    category: 'Teams',
    topics: ['High Performing Teams', 'Trust Building', 'Team Alignment', 'Team Culture'],
    pageCount: 20,
    readTime: '18 min read',
    featured: false,
    overview: `As Michael Jordan said: "Talent wins games, but teamwork and intelligence win championships." High-performing agile teams aren\'t just technically skilled. They operate with deep trust and clear alignment on purpose, goals, and working agreements.\n\nThis comprehensive guide provides 5 specific practices and exercises for creating team alignment, and 7 specific practices and exercises for building trust. Each practice includes step-by-step instructions that teams can start using immediately, regardless of their current maturity level.`,
    keyTakeaways: [
      '5 specific practices and exercises to create team alignment',
      '7 specific practices and exercises to build trust within teams',
      'Why alignment without trust (or trust without alignment) creates dysfunction',
      'How to assess your team\'s current trust and alignment levels',
      'Step-by-step facilitation guides for each exercise',
      'How trust and alignment connect to measurable team performance',
      'Common trust-breaking behaviors and how to address them'
    ],
    sections: [
      {
        title: 'The Trust-Alignment Connection',
        content: `Teams with alignment but no trust become compliant but disengaged. They follow the plan but don\'t contribute their best thinking. Teams with trust but no alignment become friendly but unproductive. They enjoy working together but pull in different directions.\n\nHigh-performing teams need both. This guide provides practical, immediately usable exercises for building each dimension.`
      },
      {
        title: 'Building Alignment',
        content: `The 5 alignment practices focus on creating shared understanding of team purpose, goals, roles, and working agreements. They range from foundational exercises (like creating a team charter) to advanced practices (like collaborative goal-setting using OKRs).\n\nEach practice includes a facilitator guide, recommended group size, time needed, and expected outcomes. Teams can start with any practice since they\'re independent of each other.`
      },
      {
        title: 'Building Trust',
        content: `The 7 trust-building practices address both psychological safety (the willingness to take interpersonal risks) and reliability (consistently following through on commitments). They include vulnerability exercises, feedback frameworks, and accountability structures.\n\nTrust is built incrementally through small interactions over time. These practices accelerate that process by creating structured opportunities for trust-building behavior.`
      }
    ],
    relatedWebinarSlug: null,
    ctaText: 'Our team coaches specialize in building the trust and alignment that unlock high performance. Let us work with your teams directly.'
  },
  {
    id: '4-resolutions-agile-leaders',
    slug: '4-resolutions-agile-leaders',
    title: '4 Resolutions for Agile Leaders',
    description: 'Drawn from the real experiences of senior leaders in transforming organizations, these 4 resolutions address supporting agile adoption, empowering self-organizing teams, modeling agile behavior, and positively impacting culture.',
    author: 'Agile Velocity',
    authorRole: 'Leadership Coaching Team',
    pdfUrl: '/pdfs/white-papers/4-resolutions-agile-leaders.pdf',
    thumbnail: '/images/white-papers/4-resolutions-agile-leaders.jpg',
    publishDate: '2020-01-10',
    category: 'Leadership',
    topics: ['Agile Leadership', 'Self-Organizing Teams', 'Leadership Behavior', 'Culture'],
    pageCount: 10,
    readTime: '8 min read',
    featured: false,
    overview: `Leadership behavior is the single greatest predictor of agile transformation success. When leaders model agile values, empower their teams, and actively support the cultural changes that agile requires, transformations succeed. When they don\'t, transformations fail, regardless of how well the teams execute.\n\nThese 4 resolutions are drawn from the real experiences of senior leaders who have successfully navigated agile transformations. Each resolution addresses a specific aspect of agile leadership: supporting organizational adoption, empowering self-organizing teams, modeling agile behavior personally, and positively impacting organizational culture.`,
    keyTakeaways: [
      'Resolution 1: Actively support organizational agile adoption beyond verbal endorsement',
      'Resolution 2: Empower self-organizing teams by removing barriers and resisting micromanagement',
      'Resolution 3: Model agile behavior in your own leadership practices',
      'Resolution 4: Intentionally shape organizational culture through visible actions',
      'Real examples from senior leaders who practiced these resolutions',
      'The connection between leadership behavior and transformation outcomes'
    ],
    sections: [
      {
        title: 'Why Leadership Resolutions Matter',
        content: `Agile transformation is fundamentally a leadership challenge. Teams can learn new practices in weeks, but organizational culture only changes when leaders consistently demonstrate new behaviors over months and years.\n\nThese resolutions aren\'t about adding new tasks to a leader\'s plate. They\'re about changing how leaders show up every day: in meetings, in decisions, in how they respond to problems and celebrate successes.`
      },
      {
        title: 'From Resolution to Action',
        content: `Each resolution in this paper is paired with specific, observable behaviors that leaders can practice immediately. "Support agile adoption" becomes "attend sprint reviews regularly and ask questions about customer value delivered." "Empower self-organizing teams" becomes "when asked to make a decision the team can make, redirect it back to them."\n\nThese behavioral specifics transform abstract leadership principles into daily practice.`
      },
      {
        title: 'Real Leader Experiences',
        content: `The resolutions in this paper come from interviews with senior leaders who have been through agile transformations. Their stories include both successes and honest reflections on what they would do differently.\n\nThese aren\'t theoretical recommendations. They\'re lessons learned from leaders who have done the hard work of changing their own behavior while supporting organizational change.`
      }
    ],
    relatedWebinarSlug: null,
    ctaText: 'Our leadership coaches work directly with executives and senior leaders to develop the agile leadership behaviors that drive transformation success.'
  }
]

// Helper Functions

export const getCategories = () => {
  const categories = [...new Set(whitePapers.map(wp => wp.category))]
  return categories.sort()
}

export const getFeaturedWhitePapers = () => {
  return whitePapers.filter(wp => wp.featured)
}

export const getWhitePaperBySlug = (slug) => {
  return whitePapers.find(wp => wp.slug === slug)
}

export const getRelatedWhitePapers = (currentSlug, limit = 3) => {
  const current = getWhitePaperBySlug(currentSlug)
  if (!current) return []

  // Match by category first, then by shared topics
  const sameCategory = whitePapers.filter(
    wp => wp.slug !== currentSlug && wp.category === current.category
  )

  if (sameCategory.length >= limit) return sameCategory.slice(0, limit)

  // Fill with topic-related papers
  const remaining = whitePapers.filter(
    wp => wp.slug !== currentSlug && wp.category !== current.category
  )

  const topicRelated = remaining
    .map(wp => ({
      ...wp,
      sharedTopics: wp.topics.filter(t =>
        current.topics.some(ct => ct.toLowerCase() === t.toLowerCase())
      ).length
    }))
    .filter(wp => wp.sharedTopics > 0)
    .sort((a, b) => b.sharedTopics - a.sharedTopics)

  return [...sameCategory, ...topicRelated].slice(0, limit)
}

export default whitePapers
